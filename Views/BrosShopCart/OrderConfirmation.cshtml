@using WebApp2.Models
@{
    ViewData["Title"] = "Подтверждение заказа";
    decimal totalAmount = 0; // Переменная для хранения общей суммы
}

<!-- Подтверждение заказа -->
<h2>Спасибо за ваш заказ!</h2>
<p>Ваш заказ был успешно оформлен.</p>

<h3>Информация о заказе:</h3>
<p>Ваш заказ будет ждать вас по адресу:</p>
<p><strong>просп. Обводный канал, 54, Архангельск</strong></p>

<h3>Содержимое вашего заказа:</h3>
@if (Model.Count == 0)
{
    <p>Ваш заказ пуст.</p>
}
else
{
    <table class="table order-table">
        <thead>
            <tr>
                <th>Товар</th>
                <th>Размер</th> <!-- Заголовок для размера -->
                <th>Количество</th>
                <th>Цена за единицу (₽)</th> <!-- Добавлен символ рубля -->
                <th>Итоговая стоимость (₽)</th> <!-- Добавлен символ рубля -->
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <td>@item.ProductTitle</td> <!-- Название товара -->
                    <td>
                        @if (!string.IsNullOrEmpty(item.SizeName)) // Проверяем, есть ли размер
                        {
                            <span>@item.SizeName</span> <!-- Отображаем размер -->
                        }
                        else
                        {
                            <span>Размер не указан</span> <!-- Если размер не указан -->
                        }
                    </td>
                    <td>@item.Quantity</td> <!-- Количество -->
                    <td>@item.UnitPrice.ToString("F2") ₽</td> <!-- Цена за единицу с символом рубля -->
                    <td>@item.TotalPrice.ToString("F2") ₽</td> <!-- Итоговая стоимость с символом рубля -->
                </tr>
                totalAmount += item.TotalPrice; // Добавляем итоговую стоимость к общей сумме
            }
        </tbody>
    </table>

    <h4>Сумма к оплате: @totalAmount.ToString("F2") ₽</h4> <!-- Отображаем общую сумму с символом рубля -->
}

<h3>Оплата:</h3>
<p>Обратите внимание, что оплата будет производиться после того, как вы осмотрите товар. Это означает, что вы можете сделать предзаказ, и мы отложим или закажем товар под ваши нужды.</p>
